!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([,function(e,t,o){"use strict";o.r(t);const n={container:"body",uploadUrl:"",interval:1e4,workerSrc:"wk.js",dbName:"heatmap",uploadCount:5};let r=null;function i(e){const t=document.querySelector(e.container);"object"==typeof t&&t.addEventListener("mousedown",e=>{const t={width:document.body.clientWidth,height:document.body.clientHeight,scrollHeight:document.body.scrollHeight},{scrollTop:o}=e.target,n=window.location.pathname+encodeURIComponent(window.location.hash.substring(0,200)),{host:i}=window.location,{width:a,height:c,scrollHeight:l}=t,d=e.path||e.composedPath&&e.composedPath(),s=d.slice(0,d.findIndex(e=>"body"===e.tagName.toLowerCase()));let u=!1;s.length&&s.forEach(e=>{"fixed"===getComputedStyle(e).getPropertyValue("position")&&(u=!0)}),r.postMessage({type:"addData",data:{clientX:e.clientX,clientY:e.clientY+o,clientWidth:a,clientHeight:c,scrollHeight:l,path:n,host:i,isDialog:u}})})}t.default=function(e){const t={...n,...e};!function(e){if(!window.Worker)throw new Error("您的浏览器不支持web worker");if(!e.workerSrc)throw new Error("请指定worker文件的路径");(r=new Worker(e.workerSrc)).onerror=e=>{console.error(e)}}(t),r.postMessage({type:"start",data:t}),r.onmessageerror=e=>console.error(e),i(t),r.onmessage=e=>{const{type:o,data:n}=e.data;"uploadData"===o&&function(e,t){const o=JSON.stringify({hitdata:e});(new Image).src=`${t.uploadUrl}${o}`}(n,t)},function(e){r.postMessage({type:"startUpload",data:e})}(t)}}]);